{"version":3,"file":"static/js/34.67bf61fc.chunk.js","mappings":"mPAQMA,EAAW,SAAC,GAOX,IANLC,EAMI,EANJA,QACAC,EAKI,EALJA,SACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,MACAC,EACI,EADJA,YAEA,EAOIL,EANFM,GAAAA,OADF,MACO,GADP,IAOIN,EALFO,MAAAA,OAFF,MAEU,GAFV,IAOIP,EAJFQ,MAHF,IAGWC,MAAAA,OAHX,MAGmB,EAHnB,MAGsBC,aAAAA,OAHtB,MAGqC,EAHrC,MAGwCC,KAAAA,OAHxC,MAG+C,SAH/C,EAGyDC,EAHzD,EAGyDA,QAASC,EAHlE,EAGkEA,MAHlE,EAOIb,EAHFc,QAAAA,OAJF,MAIY,EAJZ,EAKEC,EAEEf,EAFFe,IACAC,EACEhB,EADFgB,OAGIC,EAAWV,EAAMW,MAAM,KAAKC,KAAK,KACjCC,EAAQ,UAAMC,6DAAN,OAA0CL,EAA1C,YAAoDC,EAApD,KA4BRK,EAAa,WACjBrB,GAASsB,EAAAA,EAAAA,IAAejB,EAAIQ,KAG9B,OACE,iBAAKU,UAAU,YAAf,WACE,gBAAKC,IAAKL,EAAUM,IAAKnB,KAEzB,iBAAKiB,UAAU,OAAf,WACE,SAAC,KAAD,CACEG,GAAE,mBAAcrB,EAAd,kBAA0BC,EAA1B,qBAA4CQ,EAA5C,oBAA2DD,GAD/D,UAGE,iBAAMU,UAAU,QAAhB,SAAyBjB,OAE3B,iBAAMiB,UAAU,OAAhB,SAAwBb,KACxB,iBAAKa,UAAU,QAAf,WACE,iBAAMA,UAAU,QAAhB,UAAyBI,EAAAA,EAAAA,IAAkBnB,EAAQN,MAEnD,yBAAMO,EAAeP,QAGvB,iBACEqB,UAAU,SACVK,QAAS,kBAAM3B,EAAQF,IACvB8B,KAAM,SAHR,8BAOA,iBAAMN,UAAU,SAASK,QAASP,EAAYQ,KAAM,SAApD,wBAKF,iBAAKN,UAAU,UAAf,WACE,mBAAQK,QA5DS,WACjB1B,GAASU,EACXZ,GACE8B,EAAAA,EAAAA,GAAS,CACPC,QAAQ,eAAD,OAAiBnB,EAAjB,iCACPoB,MAAO,YAGF9B,EAAQS,EACjBP,EAAYF,EAAQ,EAAGC,GAEvBH,GACE8B,EAAAA,EAAAA,GAAS,CACPC,QAAQ,QAAD,OAAUpB,EAAV,sDACPqB,MAAO,aA8CwB,aAAW,eAA5C,eAGC9B,GACD,mBAAQ0B,QA5CS,WACjB1B,EAAQ,EACVE,EAAYF,EAAQ,EAAGC,GAClBkB,KAyC8B,aAAW,oBAA5C,sBAQR,GAAeY,EAAAA,EAAAA,MAAKnC,GCzFpB,EATqB,WACnB,OACE,UAAC,KAAD,CAAM4B,GAAG,mBAAT,WACE,yCACA,kECkBN,EAjBkB,WAChB,IAAMQ,GAAUC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,KAAKJ,WAEjDK,EACJL,EAAQM,OAAS,GACf,SAAC,EAAD,KAEA,iCACE,SAACC,EAAD,CAAeC,UAAWR,KAC1B,SAAC,KAAD,CAAMR,GAAG,mBAAT,UACE,mDAIR,OAAO,gBAAKH,UAAU,YAAf,SAA4BgB,KAK/BI,EAAU,SAAC,GAAwB,IAAtBT,EAAqB,EAArBA,QAAS/B,EAAY,EAAZA,MAC1B,EASI+B,EARFU,UAAAA,OADF,MACc,GADd,IASIV,EAPFW,MAAAA,OAFF,MAEU,GAFV,IASIX,EANFY,UAAAA,OAHF,SAIEC,EAKEb,EALFa,MACAC,EAIEd,EAJFc,MACAC,EAGEf,EAHFe,IACAb,EAEEF,EAFFE,MAPF,EASIF,EADFgB,OAAAA,OARF,SAWA,GAAgCC,EAAAA,EAAAA,YAAhC,eAAOC,EAAP,KAAkBC,EAAlB,KAKA,OACE,gCACE,8BACE,kBACEC,KAAK,QACLC,KAAK,oBACLC,eAAgBV,EAChBW,MAAOtD,EACPuD,SAAU,SAACC,GAAD,OAZI,SAACA,GAAO,IAAD,EAC3BN,GAAY,OAADM,QAAC,IAADA,GAAA,UAAAA,EAAGC,cAAH,eAAWC,WAAW,GAWVC,CAAcH,OAEjC,iBACEpC,UAAU,YACVM,KAAM,WACN,eAAcuB,EACdW,SAAU,EACV,aAAW,4BAGf,gCACE,4BACE,wBAAKnB,KACL,wBAAKC,EAAM,QAEZE,EAAQ,KAAOC,GAChB,kBACCZ,EAAQ,IAAMa,GACf,mBACA,0BAAOC,EAAS,OAAS,gBAM3BT,EAAgB,SAAC,GAAwB,IAAD,IAArBC,UACvB,YAD4C,MAAT,GAAS,GAC3BsB,KAAI,SAAC9B,EAAS/B,GAAV,OACnB,SAACwC,EAAD,CAAST,QAASA,EAAqB/B,MAAOA,GAAdA,O,0DCrE9B8D,EAAM,SAAC,GAMN,IALLtC,EAKI,EALJA,kBACAuC,EAII,EAJJA,YACAC,EAGI,EAHJA,gBACAC,EAEI,EAFJA,KACAC,EACI,EADJA,OAEMrE,GAAWsE,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXlC,GAAOH,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,QAYzCmC,EAAa,mCAAG,WAAOC,EAAiBC,EAAOC,EAAS1C,GAAxC,oFAEd2C,EAAU,CACdtB,KAAM,YACNuB,IAAK1D,0BACL2D,OAJIA,EAA2B,IAAlBL,EAKbzE,QAAQ,WAAD,wBAAE,WAAO+E,GAAP,kFACDC,EAAS,CACbC,mBAAoBF,EAASE,mBAC7BC,kBAAmBH,EAASG,kBAC5BC,cAAeJ,EAASK,oBACxBC,kBAAmBP,GALd,SAOmBQ,IAAAA,KAAW,yBAA0B,CAC7DnB,KAAAA,EACAC,OAAAA,EACAnC,QAAAA,EACA+C,OAAAA,IAXK,OAaH,QANEO,EAPC,cAaH,IAACA,GAAD,UAACA,EAAapB,YAAd,OAAC,EAAmBqB,QACtBlB,EAAS,KACTvE,GAAS0F,EAAAA,EAAAA,QAfJ,2CAAF,mDAAC,GAkBRC,QAAS,CACPhB,MAAOA,EACPC,QAASA,GAEXgB,MAAO,CACL5D,MAAO,YA7BS,SAiCAuD,IAAAA,KAAW,uBAAwB,CACrDR,OAAAA,IAlCkB,OAiCdc,EAjCc,OAoCpBhB,EAAQiB,SAAWD,EAAMzB,KAAKA,KAAK/D,GACnCwE,EAAQE,OAASc,EAAMzB,KAAKA,KAAKW,QAC3BgB,EAAgB,IAAIC,OAAOC,SAASpB,IAC5BqB,OACdH,EAAcI,GAAG,kBAAkB,WACjCnG,GAAS8B,EAAAA,EAAAA,GAAS,CAAEC,QAAS,uBAAwBC,MAAO,eAzC1C,4CAAH,6DA6CnBoE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAxDW,SAAC7E,GAClB,IAAM6E,EAASC,SAASC,cAAc,UAMtC,OALAF,EAAO7E,IAAMA,EACb6E,EAAOG,OAAQ,EAGfH,EAAOI,YAAc,YACdJ,EAiDQK,CAAW,gDAM1B,OALAJ,SAASK,KAAKC,YAAYP,GAC1BA,EAAOQ,QAAU,WACfC,QAAQC,KAAK,wCAGR,WACLV,GAAUC,SAASK,KAAKK,YAAYX,GAEpC,IADA,IAAMY,EAAWX,SAASY,uBAAuB,sBAC1CD,EAASzE,OAAS,GACvB8D,SAASK,KAAKK,YAAYC,EAAS,OAGtC,IAEH,IAAME,EAAe,mCAAG,0FAWL,KADXjF,EATW,WACf,IAAMkF,EAAad,SAASe,kBAAkB,qBAC9C,IAAKD,EAAY,OAAQ,EACzB,IAAK,IAAIjH,EAAQ,EAAGA,EAAQiH,EAAW5E,OAAQrC,IAC7C,GAAIiH,EAAWjH,GAAO0D,QAAS,OAAO1D,EAExC,OAAQ,EAGMmH,IAVM,gBAYpBtH,GAAS8B,EAAAA,EAAAA,GAAS,CAAEC,QAAS,kCAZT,sCAcd0C,EACJP,EAAcC,EADG,OAEjB7B,QAFiB,IAEjBA,OAFiB,EAEjBA,EAAMqC,MAFW,OAGjBrC,QAHiB,IAGjBA,GAHiB,UAGjBA,EAAMJ,QAAQA,UAHG,aAGjB,EAAwBW,MAAM,GAHb,OAIjBP,QAJiB,IAIjBA,OAJiB,EAIjBA,EAAMJ,QAAQA,IAlBI,2CAAH,qDAuBrB,OACE,oBAAQN,QAASuF,EAAjB,iBACOxF,EAAkBuC,EAAcC,OAK3C,GAAelC,EAAAA,EAAAA,MAAKgC,GC1EpB,EA3CiB,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,YAAaqD,EAAwC,EAAxCA,WAAYnD,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,OAAQnC,EAAc,EAAdA,QACnDsF,EAAYC,OAAOC,SAAStG,QAC5BuG,EAAiBzD,EAAcsD,EAC/BrD,EAAkBwD,EAAiB,EAAI,GACvCC,EAAkBD,EACpB,6BADkC,0BAEhBhG,EAAAA,EAAAA,IAChB6F,EAAYtD,GAHoB,qBAMtC,OAAOA,EAAc,GACnB,iBAAK3C,UAAU,WAAf,WACE,2BACE,6BAAOI,EAAAA,EAAAA,IAAkBuC,GAAzB,OADF,OAEOqD,EAFP,aAIA,0BACGK,EADH,KACoB,iDAElBD,IACA,2BACE,kCAAShG,EAAAA,EAAAA,IAAkB,OAD7B,gBAIF,SAAC,EAAD,CACEA,kBAAmBA,EAAAA,GACnBuC,YAAaA,EACbC,gBAAiBA,EACjBC,KAAMA,EACNC,OAAQA,EACRnC,QAASA,KAEX,2BACE,oCACA,yCACA,gDAIJ,yBClBJ,EAtBiB,SAAC,GAA+B,IAAD,EAA5BkC,EAA4B,EAA5BA,KAA4B,IAAtBC,OAAAA,OAAsB,MAAb,CAAC,EAAG,GAAS,EACxCH,EAAW,OAAGE,QAAH,IAAGA,GAAH,UAAGA,EAChBJ,KAAI,WAAiB7D,GAAjB,QAAGI,MAAAA,OAAH,MAAW,GAAX,SAAgC,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOC,OAAQ6D,EAAOlE,aADxC,aAAG,EAEhB0H,QAAO,SAACC,EAAMC,GAAP,OAAmBD,EAAOC,KAErC1D,EAAO7B,OAAS4B,EAAK5B,OAErB,IAAM+E,EAAalD,EAAOwD,QAAO,SAACC,EAAMC,GAAP,OAAmBD,EAAOC,KAE3D,OACE,iBAAKxG,UAAU,WAAf,WACE,SAAC,EAAD,CACE2C,YAAaA,EACbqD,WAAYA,EACZnD,KAAMA,EACNC,OAAQA,KAEV,SAAC,EAAD,QC0CN,EArDoB,SAAC,GAAc,IAAZD,EAAW,EAAXA,KACrB,GAA4BjB,EAAAA,EAAAA,WAAS,yBAAMiB,QAAN,IAAMA,OAAN,EAAMA,EAAMJ,KAAI,kBAAM,QAA3D,eAAOK,EAAP,KAAe2D,EAAf,KAEMC,EAAe,SAACC,EAAa/H,GACjC6H,GAAU,SAACF,GACT,IAAIK,EAAML,EAEV,OADAK,EAAIhI,GAAS+H,GACN,OAAIC,OAITC,GAAWjG,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKC,KAAK8F,YAElDpI,GAAWsE,EAAAA,EAAAA,MAMX+D,EAAkB,SAACtI,IAJF,WAA4B,IAAjBM,EAAgB,uCAAZQ,EAAY,uCAChD,OADgD,uDAApB,IACjByH,MAAK,SAACC,GAAD,OAAUA,EAAKlI,KAAOA,GAAMkI,EAAK1H,UAAYA,KAIxD2H,CAAeJ,EAAUrI,EAAQM,GAAIN,EAAQc,SAChDb,GAASyI,EAAAA,EAAAA,IAAc1I,IAEvBC,GACE8B,EAAAA,EAAAA,GAAS,CACPC,QAAS,qCACTC,MAAO,aAMf,OACE,qBAAST,UAAU,OAAnB,WACE,gBAAKA,UAAU,YAAf,SACG6C,IAAI,OACHA,QADG,IACHA,OADG,EACHA,EAAMJ,KAAI,SAACuE,EAAMpI,GAAP,OACR,SAAC,EAAD,CACEJ,QAASwI,EAETvI,SAAUA,EACVC,QAASoI,EACTlI,MAAOA,EACPD,MAAOmE,EAAOlE,GACdC,YAAa6H,GALRM,EAAI,GAASA,EAAI,gBAS9B,SAAC,EAAD,CAAUnE,KAAMA,EAAMC,OAAQA,S,sDCzDpC,IAAMqE,EAAgB,CACpBC,OAAQ,KACRC,SAAU,OAGNjH,EAAoB,WAAiB,IAAhBoD,EAAe,uDAAN,EAClC,OAAO,IAAI8D,KAAKC,aAAaJ,EAAcC,OAAQ,CACjDI,MAAO,WACPH,SAAUF,EAAcE,SACxBI,sBAAuB,IACtBC,OAAOlE","sources":["view/components/cart/CartItem.jsx","view/components/cart/EmptyAddress.jsx","view/components/cart/Addresses.jsx","view/components/cart/Pay.jsx","view/components/cart/SubTotal.jsx","view/components/cart/Checkout.jsx","view/components/cart/CartContent.jsx","view/services/factories/formmater.js"],"sourcesContent":["import { memo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { addToast } from \"../../services/actions/toast\";\r\nimport { removeFromCart } from \"../../services/actions/user\";\r\n\r\nimport { currencyFormatter } from \"../../services/factories/formmater\";\r\n\r\nconst CartItem = ({\r\n  product,\r\n  dispatch,\r\n  handler,\r\n  count,\r\n  index,\r\n  updateCount,\r\n}) => {\r\n  const {\r\n    id = \"\",\r\n    title = \"\",\r\n    sizes: { price = 0, retail_price = 0, size = \"Normal\", allowed, stock },\r\n    variant = 0,\r\n    uci,\r\n    seller,\r\n  } = product;\r\n\r\n  const urlTitle = title.split(\" \").join(\"+\");\r\n  const imageURL = `${process.env.REACT_APP_IMAGES_PATH}${seller}/${urlTitle}0`;\r\n\r\n  const incrementCount = () => {\r\n    if (count >= stock) {\r\n      dispatch(\r\n        addToast({\r\n          message: `Sorry! Only ${stock} items are available in stock`,\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    } else if (count < allowed) {\r\n      updateCount(count + 1, index);\r\n    } else {\r\n      dispatch(\r\n        addToast({\r\n          message: `Only ${allowed} items per purchase are available for this product`,\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const decrementCount = () => {\r\n    if (count > 1) {\r\n      updateCount(count - 1, index);\r\n    } else removeItem();\r\n  };\r\n\r\n  const removeItem = () => {\r\n    dispatch(removeFromCart(id, variant));\r\n  };\r\n\r\n  return (\r\n    <div className=\"list_item\">\r\n      <img src={imageURL} alt={title} />\r\n\r\n      <div className=\"info\">\r\n        <Link\r\n          to={`/product/${id}?title=${title}&category=${uci}&variant=${variant}`}\r\n        >\r\n          <span className=\"title\">{title}</span>\r\n        </Link>\r\n        <span className=\"size\">{size}</span>\r\n        <div className=\"price\">\r\n          <span className=\"offer\">{currencyFormatter(price * count)}</span>\r\n\r\n          <del>{retail_price * count}</del>\r\n        </div>\r\n\r\n        <span\r\n          className=\"add_to\"\r\n          onClick={() => handler(product)}\r\n          role={\"button\"}\r\n        >\r\n          Add to Wishlist\r\n        </span>\r\n        <span className=\"remove\" onClick={removeItem} role={\"button\"}>\r\n          Remove\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"counter\">\r\n        <button onClick={incrementCount} aria-label=\"add quantity\">\r\n          +\r\n        </button>\r\n        {count}\r\n        <button onClick={decrementCount} aria-label=\"decrease quantity\">\r\n          -\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(CartItem);\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst EmptyAddress = () => {\r\n  return (\r\n    <Link to=\"/profile#address\">\r\n      <h4>Add Address</h4>\r\n      <h5>Please add an address to continue</h5>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default EmptyAddress;\r\n","import { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport EmptyAddress from \"./EmptyAddress\";\r\n\r\nconst Addresses = () => {\r\n  const address = useSelector((state) => state.auth.user.address);\r\n\r\n  const toRender =\r\n    address.length < 1 ? (\r\n      <EmptyAddress />\r\n    ) : (\r\n      <>\r\n        <SelectAddress addresses={address} />\r\n        <Link to=\"/profile#address\">\r\n          <h5>or add another...</h5>\r\n        </Link>\r\n      </>\r\n    );\r\n  return <div className=\"addresses\">{toRender}</div>;\r\n};\r\n\r\nexport default Addresses;\r\n\r\nconst Address = ({ address, index }) => {\r\n  const {\r\n    full_name = \"\",\r\n    phone = [],\r\n    isPrimary = false,\r\n    line1,\r\n    line2,\r\n    pin,\r\n    state,\r\n    isHome = true,\r\n  } = address;\r\n\r\n  const [isChecked, setChecked] = useState();\r\n  const updateChecked = (e) => {\r\n    setChecked(e?.target?.checked || false);\r\n  };\r\n\r\n  return (\r\n    <article>\r\n      <label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"isSelectedAddress\"\r\n          defaultChecked={isPrimary}\r\n          value={index}\r\n          onChange={(e) => updateChecked(e)}\r\n        />\r\n        <span\r\n          className=\"checkmark\"\r\n          role={\"checkbox\"}\r\n          aria-checked={isChecked}\r\n          tabIndex={0}\r\n          aria-label=\"Select this Address\"\r\n        ></span>\r\n      </label>\r\n      <address>\r\n        <div>\r\n          <h4>{full_name}</h4>\r\n          <h4>{phone[0]}</h4>\r\n        </div>\r\n        {line1 + \", \" + line2}\r\n        <br />\r\n        {state + \" \" + pin}\r\n        <br />\r\n        <span>{isHome ? \"Home\" : \"Work\"}</span>\r\n      </address>\r\n    </article>\r\n  );\r\n};\r\n\r\nconst SelectAddress = ({ addresses = [] }) => {\r\n  return addresses.map((address, index) => (\r\n    <Address address={address} key={index} index={index} />\r\n  ));\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { memo, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { addToast } from \"../../services/actions/toast.js\";\r\nimport { onSuccessfulCheckout } from \"../../services/actions/user\";\r\n\r\nconst Pay = ({\r\n  currencyFormatter,\r\n  totalAmount,\r\n  deleiveryAmount,\r\n  data,\r\n  counts,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  const loadScript = (src) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.async = true;\r\n    // script.integrity =\r\n    // \"sha384-GAdNOhResEX9ACZZqU2hBnD03IV4Ic/IzhsS2ToFvEpkwIcrNEHrlc914Hfn4KoQ\";\r\n    script.crossOrigin = \"anonymous\";\r\n    return script;\r\n  };\r\n\r\n  const handlePayment = async (amount_in_paisa, email, contact, address) => {\r\n    const amount = amount_in_paisa * 100;\r\n    const options = {\r\n      name: \"Buddyshop\",\r\n      key: process.env.REACT_APP_RAZORPAY_KEY,\r\n      amount,\r\n      handler: async (response) => {\r\n        const values = {\r\n          razorpay_signature: response.razorpay_signature,\r\n          razorpay_order_id: response.razorpay_order_id,\r\n          transactionid: response.razorpay_payment_id,\r\n          transactionamount: amount,\r\n        };\r\n        const transaction = await axios.post(\"/user/checkout/payment\", {\r\n          data,\r\n          counts,\r\n          address,\r\n          values,\r\n        });\r\n        if (!transaction?.data?.error) {\r\n          navigate(\"/\");\r\n          dispatch(onSuccessfulCheckout());\r\n        }\r\n      },\r\n      prefill: {\r\n        email: email,\r\n        contact: contact,\r\n      },\r\n      theme: {\r\n        color: \"#458abf\",\r\n      },\r\n    };\r\n\r\n    const order = await axios.post(\"/user/checkout/order\", {\r\n      amount,\r\n    });\r\n    options.order_id = order.data.data.id;\r\n    options.amount = order.data.data.amount;\r\n    const paymentObject = new window.Razorpay(options);\r\n    paymentObject.open();\r\n    paymentObject.on(\"payment.failed\", () => {\r\n      dispatch(addToast({ message: \"Payment unseccessful\", color: \"danger\" }));\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const script = loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\r\n    document.body.appendChild(script);\r\n    script.onerror = () => {\r\n      console.warn(\"Error loading razorpay payment link\");\r\n    };\r\n\r\n    return () => {\r\n      script && document.body.removeChild(script);\r\n      const elements = document.getElementsByClassName(\"razorpay-container\");\r\n      while (elements.length > 0) {\r\n        document.body.removeChild(elements[0]);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const checkoutHandler = async () => {\r\n    const getIndex = () => {\r\n      const isSelected = document.getElementsByName(\"isSelectedAddress\");\r\n      if (!isSelected) return -1;\r\n      for (let index = 0; index < isSelected.length; index++) {\r\n        if (isSelected[index].checked) return index;\r\n      }\r\n      return -1;\r\n    };\r\n\r\n    const address = getIndex();\r\n    if (address === -1)\r\n      dispatch(addToast({ message: \"Please add an address first!\" }));\r\n    else {\r\n      await handlePayment(\r\n        totalAmount + deleiveryAmount,\r\n        user?.email,\r\n        user?.address[address]?.phone[0],\r\n        user?.address[address]\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button onClick={checkoutHandler}>\r\n      Pay {currencyFormatter(totalAmount + deleiveryAmount)}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default memo(Pay);\r\n","import { currencyFormatter } from \"../../services/factories/formmater.js\";\r\n\r\nimport Pay from \"./Pay\";\r\n\r\nconst SubTotal = ({ totalAmount, totalItems, data, counts, address }) => {\r\n  const freeAbove = Number.parseInt(process.env.REACT_APP_FREE_DELIVERY_ABOVE);\r\n  const isFreeDelivery = totalAmount > freeAbove;\r\n  const deleiveryAmount = isFreeDelivery ? 0 : 50;\r\n  const DeliveryMessage = isFreeDelivery\r\n    ? \"Your order is eligible for\"\r\n    : `Add an item of ${currencyFormatter(\r\n        freeAbove - totalAmount\r\n      )} or more to avail`;\r\n\r\n  return totalAmount > 0 ? (\r\n    <div className=\"subtotal\">\r\n      <h4>\r\n        <span>{currencyFormatter(totalAmount)} </span>\r\n        for {totalItems} items\r\n      </h4>\r\n      <h4>\r\n        {DeliveryMessage} <span>Free Deleivery</span>\r\n      </h4>\r\n      {!isFreeDelivery && (\r\n        <h5>\r\n          <span>+ {currencyFormatter(50)}</span> Shipping\r\n        </h5>\r\n      )}\r\n      <Pay\r\n        currencyFormatter={currencyFormatter}\r\n        totalAmount={totalAmount}\r\n        deleiveryAmount={deleiveryAmount}\r\n        data={data}\r\n        counts={counts}\r\n        address={address}\r\n      />\r\n      <ul>\r\n        <li>Secure</li>\r\n        <li>Easy Return</li>\r\n        <li>24/7 Support</li>\r\n      </ul>\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default SubTotal;\r\n","import Addresses from \"./Addresses\";\r\nimport SubTotal from \"./SubTotal\";\r\n\r\nconst Checkout = ({ data, counts = [0, 0] }) => {\r\n  const totalAmount = data\r\n    ?.map(({ sizes = {} }, index) => sizes?.price * counts[index])\r\n    ?.reduce((prev, current) => prev + current);\r\n\r\n  counts.length = data.length;\r\n\r\n  const totalItems = counts.reduce((prev, current) => prev + current);\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <SubTotal\r\n        totalAmount={totalAmount}\r\n        totalItems={totalItems}\r\n        data={data}\r\n        counts={counts}\r\n      />\r\n      <Addresses />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { addToWishlist } from \"../../services/actions/user\";\r\nimport { addToast } from \"../../services/actions/toast\";\r\n\r\nimport CartItem from \"./CartItem\";\r\nimport Checkout from \"./Checkout\";\r\n\r\nconst CartContent = ({ data }) => {\r\n  const [counts, setCounts] = useState(() => data?.map(() => 1));\r\n\r\n  const updateCounts = (child_count, index) => {\r\n    setCounts((prev) => {\r\n      let arr = prev;\r\n      arr[index] = child_count;\r\n      return [...arr];\r\n    });\r\n  };\r\n\r\n  const wishlist = useSelector((state) => state.auth.user.wishlist);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const isAlreadyInArr = (arr = [], id, variant) => {\r\n    return arr.some((item) => item.id === id && item.variant === variant);\r\n  };\r\n\r\n  const wishlistHandler = (product) => {\r\n    if (!isAlreadyInArr(wishlist, product.id, product.variant)) {\r\n      dispatch(addToWishlist(product));\r\n    } else {\r\n      dispatch(\r\n        addToast({\r\n          message: \"Product already exists in wishlist\",\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"cart\">\r\n      <div className=\"cart_list\">\r\n        {data &&\r\n          data?.map((item, index) => (\r\n            <CartItem\r\n              product={item}\r\n              key={item[\"id\"] + item[\"variant\"]}\r\n              dispatch={dispatch}\r\n              handler={wishlistHandler}\r\n              index={index}\r\n              count={counts[index]}\r\n              updateCount={updateCounts}\r\n            />\r\n          ))}\r\n      </div>\r\n      <Checkout data={data} counts={counts} />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CartContent;\r\n","const defaultValues = {\r\n  locale: \"en\",\r\n  currency: \"INR\",\r\n};\r\n\r\nconst currencyFormatter = (amount = 0) => {\r\n  return new Intl.NumberFormat(defaultValues.locale, {\r\n    style: \"currency\",\r\n    currency: defaultValues.currency,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n};\r\n\r\nconst updateDefaultValues = ({\r\n  locale = defaultValues.locale,\r\n  curreny = defaultValues.currency,\r\n}) => {\r\n  defaultValues.locale = locale;\r\n  defaultValues.currency = curreny;\r\n};\r\n\r\nconst formatters = { currencyFormatter };\r\nexport default formatters;\r\nexport { currencyFormatter, updateDefaultValues };\r\n"],"names":["CartItem","product","dispatch","handler","count","index","updateCount","id","title","sizes","price","retail_price","size","allowed","stock","variant","uci","seller","urlTitle","split","join","imageURL","process","removeItem","removeFromCart","className","src","alt","to","currencyFormatter","onClick","role","addToast","message","color","memo","address","useSelector","state","auth","user","toRender","length","SelectAddress","addresses","Address","full_name","phone","isPrimary","line1","line2","pin","isHome","useState","isChecked","setChecked","type","name","defaultChecked","value","onChange","e","target","checked","updateChecked","tabIndex","map","Pay","totalAmount","deleiveryAmount","data","counts","useDispatch","navigate","useNavigate","handlePayment","amount_in_paisa","email","contact","options","key","amount","response","values","razorpay_signature","razorpay_order_id","transactionid","razorpay_payment_id","transactionamount","axios","transaction","error","onSuccessfulCheckout","prefill","theme","order","order_id","paymentObject","window","Razorpay","open","on","useEffect","script","document","createElement","async","crossOrigin","loadScript","body","appendChild","onerror","console","warn","removeChild","elements","getElementsByClassName","checkoutHandler","isSelected","getElementsByName","getIndex","totalItems","freeAbove","Number","parseInt","isFreeDelivery","DeliveryMessage","reduce","prev","current","setCounts","updateCounts","child_count","arr","wishlist","wishlistHandler","some","item","isAlreadyInArr","addToWishlist","defaultValues","locale","currency","Intl","NumberFormat","style","maximumFractionDigits","format"],"sourceRoot":""}