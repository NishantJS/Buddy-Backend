"use strict";(self.webpackChunkbuddyshop=self.webpackChunkbuddyshop||[]).push([[514],{8914:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(5861),o=n(885),a=n(7757),u=n.n(a),l=n(2791),s=n(4569);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,l.useState)({status:102,data:null,loading:!0,error:!1}),n=(0,o.Z)(t,2),a=n[0],i=n[1];return(0,l.useEffect)((function(){var t=s.CancelToken.source(),n=t.token,o=t.cancel,a={cancelToken:n,validateStatus:function(){return!0}},l=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,r=t.options,e.prev=1,e.next=4,(0,s.get)("/".concat(n),r);case 4:o=e.sent,i({status:o.status,data:o.data,loading:!1,error:o.data.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({status:500,error:!0,loading:!1,data:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return l({path:e,options:a}),function(){o()}}),[e]),a}},7514:function(e,t,n){n.r(t);var r=n(2791),o=n(8914),a=n(9434),u=n(5126),l=n(8737),s=n(741),i=n(6871),c=n(3643),d=n(184);t.default=function(){var e=(0,o.Z)("session"),t=e.data,n=e.loading,v=e.error,f=(0,a.I0)(),p=(0,i.s0)(),g=(0,a.v9)((function(e){return e.product}));return(0,r.useEffect)((function(){return n||v||t.error?null!==t&&void 0!==t&&t.error&&(p("/"),f((0,s.TX)({message:null===t||void 0===t?void 0:t.data}))):null!==t&&void 0!==t&&t.user?(localStorage.removeItem("seller"),localStorage.setItem("user",JSON.stringify(null===t||void 0===t?void 0:t.user)),f((0,u.cn)(null===t||void 0===t?void 0:t.user)),(null===g||void 0===g?void 0:g.length)<1&&f((0,c.M)()),p("/")):null!==t&&void 0!==t&&t.seller?(localStorage.removeItem("user"),localStorage.setItem("seller",JSON.stringify(null===t||void 0===t?void 0:t.seller)),f((0,l.O)(null===t||void 0===t?void 0:t.seller)),p("/dashboard")):p("/"),function(){}}),[t,f,v,n,p,g]),(0,d.jsx)("section",{children:"Redirecting..."})}}}]);
//# sourceMappingURL=514.76181c8a.chunk.js.map