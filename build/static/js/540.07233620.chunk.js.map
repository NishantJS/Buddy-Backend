{"version":3,"file":"static/js/540.07233620.chunk.js","mappings":"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","sources":["view/services/factories/formmater.js","view/components/SubTotal.jsx","view/pages/Cart.jsx"],"sourcesContent":["const defaultValues = {\r\n  locale: \"en\",\r\n  currency: \"INR\",\r\n};\r\n\r\nconst currencyFormatter = (amount = 0) => {\r\n  return new Intl.NumberFormat(defaultValues.locale, {\r\n    style: \"currency\",\r\n    currency: defaultValues.currency,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n};\r\n\r\nconst updateDefaultValues = ({\r\n  locale = defaultValues.locale,\r\n  curreny = defaultValues.currency,\r\n}) => {\r\n  defaultValues.locale = locale;\r\n  defaultValues.currency = curreny;\r\n};\r\n\r\nconst formatters = { currencyFormatter };\r\nexport default formatters;\r\nexport { currencyFormatter, updateDefaultValues };\r\n","import { currencyFormatter } from \"./../services/factories/formmater.js\";\r\n\r\nconst SubTotal = ({ amount = 0, items = 0 }) => {\r\n  const freeAbove = Number.parseInt(process.env.REACT_APP_FREE_DELIVERY_ABOVE);\r\n  const isFreeDelivery = amount > freeAbove;\r\n  const DeliveryMessage = isFreeDelivery\r\n    ? \"Your order is eligible for\"\r\n    : `Add an item of ${currencyFormatter(\r\n        freeAbove - amount\r\n      )} or more to avail`;\r\n\r\n  return amount > 0 ? (\r\n    <>\r\n      <h4>\r\n        <span>{currencyFormatter(amount)} </span>\r\n        for {items} items\r\n      </h4>\r\n      <h4>\r\n        {DeliveryMessage} <span>Free Deleivery</span>\r\n      </h4>\r\n      {!isFreeDelivery && (\r\n        <h5>\r\n          <span>+ {currencyFormatter(50)}</span> Shipping\r\n        </h5>\r\n      )}\r\n    </>\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default SubTotal;\r\n","import { useState, lazy, Suspense } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToast, addToWishlist } from \"../services/actions\";\r\nimport Loading from \"./../components/Loading.jsx\";\r\nimport SubTotal from \"../components/SubTotal\";\r\nimport \"../../styles/cart.scss\";\r\nconst CartItem = lazy(() => import(\"./../components/CartItem.jsx\"));\r\nconst NotFound = lazy(() => import(\"./NotFound.jsx\"));\r\n\r\nconst Cart = () => {\r\n  const cart = useSelector((state) => state.auth.user.cart);\r\n  const wishlist = useSelector((state) => state.auth.user.wishlist);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const isAlreadyInArr = (arr = [], _id, variant) => {\r\n    return arr.some((item) => item._id === _id && item.variant === variant);\r\n  };\r\n\r\n  const wishlistHandler = (product) => {\r\n    if (!isAlreadyInArr(wishlist, product._id, product.variant)) {\r\n      dispatch(addToWishlist(product));\r\n    } else {\r\n      dispatch(\r\n        addToast({\r\n          message: \"Product already exists in wishlist\",\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  let Render =\r\n    cart.length < 1 ? (\r\n      <NotFound message=\"Looks like your cart is empty. Try adding some products\" />\r\n    ) : (\r\n      <CartContent data={cart} dispatch={dispatch} handler={wishlistHandler} />\r\n    );\r\n\r\n  return <Suspense fallback={<Loading />}>{Render}</Suspense>;\r\n};\r\n\r\nconst CartContent = ({ data, dispatch, handler }) => {\r\n  const [counts, setCounts] = useState(() => data.map(() => 1));\r\n  const [total, setTotal] = useState(() =>\r\n    data\r\n      .map(({ sizes = {} }) => sizes?.price)\r\n      .reduce((prev, current) => prev + current)\r\n  );\r\n\r\n  const updateCounts = (child_count, index) => {\r\n    setCounts((prev) => {\r\n      let arr = prev;\r\n      arr[index] = child_count;\r\n      return [...arr];\r\n    });\r\n    setTotal(() => calculateAmount(\"price\"));\r\n  };\r\n\r\n  const calculateAmount = () => {\r\n    return data\r\n      ?.map(({ sizes = {} }, index) => sizes?.price * counts[index])\r\n      ?.reduce((prev, current) => prev + current);\r\n  };\r\n\r\n  return (\r\n    <section className=\"cart\">\r\n      <div className=\"cart_list\">\r\n        {data &&\r\n          data.map((item, index) => (\r\n            <CartItem\r\n              product={item}\r\n              key={item[\"_id\"] + item[\"variant\"]}\r\n              dispatch={dispatch}\r\n              handler={handler}\r\n              index={index}\r\n              count={counts[index]}\r\n              updateCount={updateCounts}\r\n            />\r\n          ))}\r\n      </div>\r\n      <div className=\"checkout\">\r\n        <SubTotal amount={total} items={data?.length} />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["defaultValues","locale","currency","currencyFormatter","amount","Intl","NumberFormat","style","maximumFractionDigits","format","items","freeAbove","Number","parseInt","process","isFreeDelivery","DeliveryMessage","CartItem","lazy","NotFound","CartContent","data","dispatch","handler","useState","map","counts","setCounts","sizes","price","reduce","prev","current","total","setTotal","updateCounts","child_count","index","arr","calculateAmount","className","item","product","count","updateCount","length","cart","useSelector","state","auth","user","wishlist","useDispatch","Render","message","_id","variant","some","isAlreadyInArr","addToWishlist","addToast","color","Suspense","fallback","Loading"],"sourceRoot":""}