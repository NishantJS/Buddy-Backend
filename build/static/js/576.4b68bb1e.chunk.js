"use strict";(self.webpackChunkbuddyshop=self.webpackChunkbuddyshop||[]).push([[576],{3576:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var n=l(885),t=l(2791),r=l(184);function s(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:[(0,r.jsx)("path",{fill:"#f9e65c",d:"M84 44H50v13h21a22 22 0 11-8-25l9-9a35 35 0 1012 21z"}),(0,r.jsx)("path",{fill:"#78a2d2",d:"M50 57h21c-2 5-5 9-9 11l10 9a35 35 0 0012-33H50v13z"}),(0,r.jsx)("path",{fill:"#60be92",d:"M62 68a22 22 0 01-32-9l-11 7a35 35 0 0053 11l-10-9z"}),(0,r.jsx)("path",{fill:"#f15b6c",d:"M30 42a22 22 0 0133-10l9-9a35 35 0 00-53 12l11 7z"}),(0,r.jsx)("path",{fill:"#1f212b",d:"M50 86a36 36 0 1123-64 1 1 0 010 2l-9 9h-2c-3-3-8-4-12-4a21 21 0 1019 29H50l-1-1V44l1-1h34l1 1 1 6c0 20-16 36-36 36zm0-70a34 34 0 1034 29H51v11h20a1 1 0 011 1 23 23 0 11-9-26l8-8c-6-5-14-7-21-7z"}),(0,r.jsx)("path",{fill:"#1f212b",d:"M72 78h-1l-4-4h1l4 3v1zm-6-5l-1-1-2-1 1-1 2 2v1zM28 60v-1l1-1h1v1l-2 1zm-4 3h-1v-1l2-1h1l-2 2zm-5 3h-1v-1l3-2h1v1l-3 2zm6-28h-1l-5-3 1-1 5 3v1zm3 2h-1l-1-1h2v1z"})]})}var i=(0,t.memo)(s);function o(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:[(0,r.jsx)("path",{fill:"#78a2d2",d:"M50 15a35 35 0 100 70 35 35 0 100-70z"}),(0,r.jsx)("path",{fill:"#1f212b",d:"M77 64a1 1 0 010-1v-1l2-5a1 1 0 111 0 30 30 0 01-2 5v2a1 1 0 01-1 0zm3-11v-2a30 30 0 00-2-12 1 1 0 011 0 31 31 0 012 12v2a1 1 0 01-1 0zM28 30h-1a1 1 0 010-1 31 31 0 0120-10v1c-7 1-14 4-19 10zm1 43a31 31 0 01-6-38 1 1 0 111 0c-7 12-5 27 6 37a1 1 0 01-1 1zm34 5a1 1 0 010-1 30 30 0 009-6l3-4a1 1 0 011 1 31 31 0 01-3 3 31 31 0 01-10 7z"}),(0,r.jsx)("path",{fill:"#fefdef",d:"M45 84V60h-9v-9h9v-9c-1-9 5-16 20-12l-1 8h-4c-4 0-5 2-5 4v9h10l-2 9h-8v24"}),(0,r.jsxs)("g",{fill:"#1f212b",children:[(0,r.jsx)("path",{d:"M55 84h-1V59h9l2-8H54v-9c0-3 2-4 6-4h4v-8c-6-1-11-1-15 2-3 2-4 5-4 10v9h-9v8h9v25h-1V60h-9V50h9v-8c0-5 2-9 5-11 2-2 7-4 16-1v9h-5c-4 0-5 1-5 3v8h11l-2 10h-9v24z"}),(0,r.jsx)("path",{d:"M50 86a36 36 0 110-72 36 36 0 010 72zm0-70a34 34 0 100 68 34 34 0 000-68z"})]})]})}var c=(0,t.memo)(o);function u(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",children:[(0,r.jsx)("path",{fill:"#f37e98",d:"M63 32l-1 5c-4-3-8-6-13-6-10 0-18 9-18 19s8 19 18 19c5 0 10-3 13-7l2 4c3 3 7 3 7 3 9 0 14-7 14-19a35 35 0 10-35 35c7 0 16-1 25-7l-4-5c-5 4-12 6-21 6a29 29 0 1129-29c0 2 0 13-8 13 0 0-5 0-5-10 0-11 3-19 3-19l-6-2zM49 63c-7 0-12-6-12-13s5-13 12-13 11 6 11 13-5 13-11 13z"}),(0,r.jsx)("path",{fill:"#1f212b",d:"M49 36c-7 0-13 6-13 14s6 14 13 14 12-6 12-14-6-14-12-14zm0 26c-6 0-11-5-11-12s5-12 11-12 10 5 10 12-5 12-10 12zm20-29l-5-2a1 1 0 00-2 0l-1 4c-3-3-8-5-12-5-11 0-19 9-19 20s8 20 19 20c4 0 9-2 13-6a13 13 0 002 3c3 3 7 3 7 3 9 0 15-8 15-20a36 36 0 10-36 36c7 0 17-1 25-8a1 1 0 000-1l-3-5a1 1 0 00-2 0c-5 4-11 6-20 6a28 28 0 1128-28c0 2 0 12-7 12-1 0-4-2-4-9 0-11 3-19 3-19a1 1 0 00-1-1zm-4 20c0 11 6 11 6 11 7 0 9-7 9-14a30 30 0 10-30 30c9 0 15-2 21-6l2 4c-8 5-16 6-23 6a34 34 0 1134-34c0 11-5 18-13 18 0 0-3 0-6-3l-2-3a1 1 0 00-1-1l-1 1c-3 4-8 6-12 6-10 0-17-8-17-18s7-18 17-18c4 0 9 2 12 6h1a1 1 0 001 0 56 56 0 011-5l4 1c-1 3-3 10-3 19zm0-13l1-2a1 1 0 00-1-1l-1 2a1 1 0 001 1zm-1 5a1 1 0 001 0v-3a1 1 0 000-1h-1v3a1 1 0 000 1zm0 2a1 1 0 10-1-1v7c0 13 7 13 8 13a1 1 0 000-1s-7 0-7-12v-6zM49 65c-5 0-9-3-12-7a1 1 0 00-1 1c3 4 8 7 13 7a1 1 0 100-1zM35 53a1 1 0 10-1 1 17 17 0 001 3 1 1 0 001 0 1 1 0 000-1l-1-3z"})]})}var d=(0,t.memo)(u),h=l(6871),v=[{label:"Google",icon:(0,r.jsx)(i,{})},{label:"Facebook",icon:(0,r.jsx)(c,{})},{label:"Email",icon:(0,r.jsx)(d,{})}],p=function(e){var a=e.method,l=e.handler,n=e.isSeller,t=(0,h.s0)(),s=function(e){if(2===e)return l();if(0===e||1===e)var a=n?"seller":"user",r=function(e,a,l,n){var t=window.top.outerHeight/2+window.top.screenY-n/2,r=window.top.outerWidth/2+window.top.screenX-l/2;return window.open(e,a,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(l,", height=").concat(n,", top=").concat(t,", left=").concat(r))}("https://buddyshop.in/v1/auth/".concat(0===e?"google":"facebook","/").concat(a),"Buddyshop login",500,500),s=setInterval((function(){r.closed&&(clearInterval(s),t("/auth_redirect"))}),100)};return(0,r.jsx)(r.Fragment,{children:v.map((function(e,l){var n=e.label,t=e.icon;return(0,r.jsxs)("article",{onClick:function(){return s(l)},children:[t,(0,r.jsxs)("span",{children:[a," with ",n]})]},n)}))})},f=l(5861),m=l(4942),x=l(1413),g=l(7757),w=l.n(g),j=l(4569),z=l.n(j),b=l(9434),V=l(741),k=l(6612),M=function(e){var a=e.state,l=e.checkValid,n=e.updateValue;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"email",id:"email",placeholder:" ",autoComplete:"email",value:a.email.value,inputMode:"email",onInput:function(e){return l(e,"email")},onChange:function(e){return n(e,"email")},enterKeyHint:"next"}),(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("span",{className:"error",children:a.email.errors})]})},Z=function(e){var a=e.state,l=e.checkValid,n=e.updateValue,t=e.method,s=e.isConfirmPassword,i=void 0!==s&&s,o=i?"pass1":"pass",c=i?{value:a.pass1.value}:{value:a.pass.value},u=i?"Confirm Password":"Password";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",(0,x.Z)((0,x.Z)({type:"password",id:o,placeholder:" "},c),{},{autoComplete:"signup"===t?"new-password":"current-password",onInput:function(e){return l(e,o)},onChange:function(e){return n(e,o)},enterKeyHint:"signup"===t?"next":"done"})),(0,r.jsx)("label",{htmlFor:o,children:u}),(0,r.jsx)("span",{className:"error",children:a[o].errors})]})},C=function(e){var a=e.handler,l=e.method,s=e.isSeller,i=void 0!==s&&s,o=(0,b.I0)(),c=(0,h.s0)(),u={value:"",isValid:!1,errors:"Please fill this field"},d={email:u,pass:u,pass1:u},v=(0,t.useState)((function(){return d})),p=(0,n.Z)(v,2),g=p[0],j=p[1],C=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wrong input";if(e){var n=a?{isValid:a,errors:""}:{isValid:!1,errors:l};j((function(a){return(0,x.Z)((0,x.Z)({},a),{},(0,m.Z)({},e,(0,x.Z)((0,x.Z)({},a[e]),n)))}))}},y=function(e,a){j((function(l){return(0,x.Z)((0,x.Z)({},l),{},(0,m.Z)({},a,(0,x.Z)((0,x.Z)({},l[a]),{},{value:e.target.value})))}))},S=function e(a,n){switch(n){case"email":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a.target.form[0].value.toLowerCase())?C(n):C(n,!1,"Email is invalid");break;case"pass":a.target.form[1].value.length<=7?C(n,!1,"Password should contain Minimum eight characters"):C(n),"login"!==l&&e(a,"pass1");break;case"pass1":a.target.form[1].value!==a.target.form[2].value?C("pass1",!1,"Passwords are not matching!"):C("pass1")}},F=function(){var e=g.email.isValid&&g.pass.isValid,a=e&&g.pass1.isValid;return!("login"!==l?a:e)},H=function(){var e=(0,f.Z)(w().mark((function e(a){var n,t,r,s,u,d;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),F){e.next=3;break}return e.abrupt("return");case 3:return n="signup"===l?"register":"login",t="".concat(i?"seller":"user","/").concat(n),r={username:g.email.value,password:g.pass.value},s={validateStatus:function(){return!0}},e.prev=8,e.next=11,z().post("/".concat(t),{},(0,x.Z)((0,x.Z)({},s),{},{auth:r}));case 11:if(u=e.sent,d=u.data){e.next=15;break}throw new Error("Connection to server failed! Please try again or later.");case 15:d.error?o((0,k.f)({message:d.data,color:"danger"})):(o((0,V.jF)({isSeller:i,user:d.user,seller:d.seller,message:d.data})),c(i?"/dashboard":"/",{replace:!0})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),o((0,k.f)({message:null===e.t0||void 0===e.t0?void 0:e.t0.message,color:"danger"}));case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(a){return e.apply(this,arguments)}}();return(0,r.jsxs)("form",{className:"auth_form",onSubmit:H,noValidate:!0,children:[(0,r.jsx)(M,{state:g,updateValue:y,checkValid:S}),(0,r.jsx)(Z,{state:g,method:l,updateValue:y,checkValid:S}),"login"!==l&&(0,r.jsx)(Z,{state:g,method:l,updateValue:y,checkValid:S,isConfirmPassword:!0}),(0,r.jsx)("input",{type:"submit",value:(null===l||void 0===l?void 0:l.charAt(0).toUpperCase())+l.slice(1),disabled:F()}),(0,r.jsxs)("p",{onClick:a,children:["Click here for quick ",l]})]})},y=function(e){var a=e.path,l=(0,t.useState)(!1),s=(0,n.Z)(l,2),i=s[0],o=s[1],c=function(){o((function(e){return!e}))},u=null===a||void 0===a?void 0:a.includes("seller"),d=null!==a&&void 0!==a&&a.includes("login")?"login":"signup";return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"authenticate",children:i?(0,r.jsx)(C,{handler:c,method:d,isSeller:u}):(0,r.jsx)(p,{method:d,handler:c,isSeller:u})})})}}}]);
//# sourceMappingURL=576.4b68bb1e.chunk.js.map