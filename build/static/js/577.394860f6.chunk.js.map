{"version":3,"file":"static/js/577.394860f6.chunk.js","mappings":"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","sources":["view/components/cart/CartItem.jsx","view/components/cart/Addresses.jsx","view/components/cart/Pay.jsx","view/components/cart/SubTotal.jsx","view/components/cart/Checkout.jsx","view/components/cart/CartContent.jsx","view/services/factories/formmater.js"],"sourcesContent":["import { memo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addToast } from \"../../services/actions/toast\";\r\nimport { removeFromCart } from \"../../services/actions/user\";\r\nimport { currencyFormatter } from \"../../services/factories/formmater\";\r\n\r\nconst CartItem = ({\r\n  product,\r\n  dispatch,\r\n  handler,\r\n  count,\r\n  index,\r\n  updateCount,\r\n}) => {\r\n  const {\r\n    id = \"\",\r\n    title = \"\",\r\n    thumbnail = process.env.REACT_APP_PLACEHOLDER_IMAGE,\r\n    sizes: { price = 0, retail_price = 0, size = \"Normal\", allowed, stock },\r\n    variant = 0,\r\n    uci,\r\n  } = product;\r\n\r\n  const incrementCount = () => {\r\n    if (count >= stock) {\r\n      dispatch(\r\n        addToast({\r\n          message: `Sorry! Only ${stock} items are available in stock`,\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    } else if (count < allowed) {\r\n      updateCount(count + 1, index);\r\n    } else {\r\n      dispatch(\r\n        addToast({\r\n          message: `Only ${allowed} items per purchase are available for this product`,\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const decrementCount = () => {\r\n    if (count > 1) {\r\n      updateCount(count - 1, index);\r\n    } else removeItem();\r\n  };\r\n\r\n  const removeItem = () => {\r\n    dispatch(removeFromCart(id, variant));\r\n  };\r\n\r\n  return (\r\n    <div className=\"list_item\">\r\n      <img src={thumbnail} alt={title} />\r\n\r\n      <div className=\"info\">\r\n        <Link\r\n          to={`/product/${id}?title=${title}&category=${uci}&variant=${variant}`}\r\n        >\r\n          <span className=\"title\">{title}</span>\r\n        </Link>\r\n        <span className=\"size\">{size}</span>\r\n        <div className=\"price\">\r\n          <span className=\"offer\">{currencyFormatter(price * count)}</span>\r\n\r\n          <del>{retail_price * count}</del>\r\n        </div>\r\n\r\n        <span\r\n          className=\"add_to\"\r\n          onClick={() => handler(product)}\r\n          role={\"button\"}\r\n        >\r\n          Add to Wishlist\r\n        </span>\r\n        <span className=\"remove\" onClick={removeItem} role={\"button\"}>\r\n          Remove\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"counter\">\r\n        <button onClick={incrementCount} aria-label=\"add quantity\">\r\n          +\r\n        </button>\r\n        {count}\r\n        <button onClick={decrementCount} aria-label=\"decrease quantity\">\r\n          -\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(CartItem);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Addresses = () => {\r\n  const address = useSelector((state) => state.auth.user.address);\r\n\r\n  const toRender =\r\n    address.length < 1 ? (\r\n      <EmptyAddress />\r\n    ) : (\r\n      <>\r\n        <SelectAddress addresses={address} />\r\n        <Link to=\"/profile#address\">\r\n          <h5>or add another...</h5>\r\n        </Link>\r\n      </>\r\n    );\r\n  return <div className=\"addresses\">{toRender}</div>;\r\n};\r\n\r\nexport default Addresses;\r\n\r\nconst Address = ({ address, index }) => {\r\n  const {\r\n    full_name = \"\",\r\n    phone = [],\r\n    isPrimary = false,\r\n    line1,\r\n    line2,\r\n    pin,\r\n    state,\r\n    isHome = true,\r\n  } = address;\r\n\r\n  const [isChecked, setChecked] = useState();\r\n  const updateChecked = (e) => {\r\n    setChecked(e?.target?.checked || false);\r\n  };\r\n\r\n  return (\r\n    <article>\r\n      <label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"isSelectedAddress\"\r\n          defaultChecked={isPrimary}\r\n          value={index}\r\n          onChange={(e) => updateChecked(e)}\r\n        />\r\n        <span\r\n          className=\"checkmark\"\r\n          role={\"checkbox\"}\r\n          aria-checked={isChecked}\r\n          tabIndex={0}\r\n          aria-label=\"Select this Address\"\r\n        ></span>\r\n      </label>\r\n      <address>\r\n        <div>\r\n          <h4>{full_name}</h4>\r\n          <h4>{phone[0]}</h4>\r\n        </div>\r\n        {line1 + \", \" + line2}\r\n        <br />\r\n        {state + \" \" + pin}\r\n        <br />\r\n        <span>{isHome ? \"Home\" : \"Work\"}</span>\r\n      </address>\r\n    </article>\r\n  );\r\n};\r\n\r\nconst SelectAddress = ({ addresses = [] }) => {\r\n  return addresses.map((address, index) => (\r\n    <Address address={address} key={index} index={index} />\r\n  ));\r\n};\r\n\r\nconst EmptyAddress = () => {\r\n  return (\r\n    <Link to=\"/profile#address\">\r\n      <h4>Add Address</h4>\r\n      <h5>Please add an address to continue</h5>\r\n    </Link>\r\n  );\r\n};\r\n","import React, { memo, useEffect } from \"react\";\r\nimport { addToast } from \"../../services/actions/toast.js\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { onSuccessfulCheckout } from \"../../services/actions/user\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Pay = ({\r\n  currencyFormatter,\r\n  totalAmount,\r\n  deleiveryAmount,\r\n  data,\r\n  counts,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  const loadScript = (src) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.async = true;\r\n    // script.integrity =\r\n    // \"sha384-GAdNOhResEX9ACZZqU2hBnD03IV4Ic/IzhsS2ToFvEpkwIcrNEHrlc914Hfn4KoQ\";\r\n    script.crossOrigin = \"anonymous\";\r\n    return script;\r\n  };\r\n\r\n  const handlePayment = async (amount_in_paisa, email, contact, address) => {\r\n    const amount = amount_in_paisa * 100;\r\n    const options = {\r\n      name: \"Buddyshop\",\r\n      key: process.env.REACT_APP_RAZORPAY_KEY,\r\n      amount,\r\n      handler: async (response) => {\r\n        const values = {\r\n          razorpay_signature: response.razorpay_signature,\r\n          razorpay_order_id: response.razorpay_order_id,\r\n          transactionid: response.razorpay_payment_id,\r\n          transactionamount: amount,\r\n        };\r\n        const transaction = await axios.post(\"/user/checkout/payment\", {\r\n          data,\r\n          counts,\r\n          address,\r\n          values,\r\n        });\r\n        if (!transaction?.data?.error) {\r\n          navigate(\"/\");\r\n          dispatch(onSuccessfulCheckout());\r\n        }\r\n      },\r\n      prefill: {\r\n        email: email,\r\n        contact: contact,\r\n      },\r\n      theme: {\r\n        color: \"#458abf\",\r\n      },\r\n    };\r\n\r\n    const order = await axios.post(\"/user/checkout/order\", {\r\n      amount,\r\n    });\r\n    options.order_id = order.data.data.id;\r\n    options.amount = order.data.data.amount;\r\n    const paymentObject = new window.Razorpay(options);\r\n    paymentObject.open();\r\n    paymentObject.on(\"payment.failed\", () => {\r\n      dispatch(addToast({ message: \"Payment unseccessful\", color: \"danger\" }));\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const script = loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\r\n    document.body.appendChild(script);\r\n    script.onerror = () => {\r\n      console.warn(\"Error loading razorpay payment link\");\r\n    };\r\n\r\n    return () => {\r\n      script && document.body.removeChild(script);\r\n      const elements = document.getElementsByClassName(\"razorpay-container\");\r\n      while (elements.length > 0) {\r\n        document.body.removeChild(elements[0]);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const checkoutHandler = async () => {\r\n    const getIndex = () => {\r\n      const isSelected = document.getElementsByName(\"isSelectedAddress\");\r\n      if (!isSelected) return -1;\r\n      for (let index = 0; index < isSelected.length; index++) {\r\n        if (isSelected[index].checked) return index;\r\n      }\r\n      return -1;\r\n    };\r\n\r\n    const address = getIndex();\r\n    if (address === -1)\r\n      dispatch(addToast({ message: \"Please add an address first!\" }));\r\n    else {\r\n      await handlePayment(\r\n        totalAmount + deleiveryAmount,\r\n        user?.email,\r\n        user?.address[address]?.phone[0],\r\n        user?.address[address]\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button onClick={checkoutHandler}>\r\n      Pay {currencyFormatter(totalAmount + deleiveryAmount)}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default memo(Pay);\r\n","import { currencyFormatter } from \"../../services/factories/formmater.js\";\r\nimport Pay from \"./Pay.jsx\";\r\n\r\nconst SubTotal = ({ totalAmount, totalItems, data, counts, address }) => {\r\n  const freeAbove = Number.parseInt(process.env.REACT_APP_FREE_DELIVERY_ABOVE);\r\n  const isFreeDelivery = totalAmount > freeAbove;\r\n  const deleiveryAmount = isFreeDelivery ? 0 : 50;\r\n  const DeliveryMessage = isFreeDelivery\r\n    ? \"Your order is eligible for\"\r\n    : `Add an item of ${currencyFormatter(\r\n        freeAbove - totalAmount\r\n      )} or more to avail`;\r\n\r\n  return totalAmount > 0 ? (\r\n    <div className=\"subtotal\">\r\n      <h4>\r\n        <span>{currencyFormatter(totalAmount)} </span>\r\n        for {totalItems} items\r\n      </h4>\r\n      <h4>\r\n        {DeliveryMessage} <span>Free Deleivery</span>\r\n      </h4>\r\n      {!isFreeDelivery && (\r\n        <h5>\r\n          <span>+ {currencyFormatter(50)}</span> Shipping\r\n        </h5>\r\n      )}\r\n      <Pay\r\n        currencyFormatter={currencyFormatter}\r\n        totalAmount={totalAmount}\r\n        deleiveryAmount={deleiveryAmount}\r\n        data={data}\r\n        counts={counts}\r\n        address={address}\r\n      />\r\n      <ul>\r\n        <li>Secure</li>\r\n        <li>Easy Return</li>\r\n        <li>24/7 Support</li>\r\n      </ul>\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default SubTotal;\r\n","import React from \"react\";\r\nimport Addresses from \"./Addresses.jsx\";\r\nimport SubTotal from \"./SubTotal.jsx\";\r\n\r\nconst Checkout = ({ data, counts = [0, 0] }) => {\r\n  const totalAmount = data\r\n    ?.map(({ sizes = {} }, index) => sizes?.price * counts[index])\r\n    ?.reduce((prev, current) => prev + current);\r\n\r\n  counts.length = data.length;\r\n\r\n  const totalItems = counts.reduce((prev, current) => prev + current);\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <SubTotal\r\n        totalAmount={totalAmount}\r\n        totalItems={totalItems}\r\n        data={data}\r\n        counts={counts}\r\n      />\r\n      <Addresses />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToWishlist } from \"../../services/actions/user\";\r\nimport { addToast } from \"../../services/actions/toast\";\r\nimport CartItem from \"./CartItem\";\r\nimport Checkout from \"./Checkout\";\r\nimport { useState } from \"react\";\r\n\r\nconst CartContent = ({ data }) => {\r\n  const [counts, setCounts] = useState(() => data?.map(() => 1));\r\n\r\n  const updateCounts = (child_count, index) => {\r\n    setCounts((prev) => {\r\n      let arr = prev;\r\n      arr[index] = child_count;\r\n      return [...arr];\r\n    });\r\n  };\r\n\r\n  const wishlist = useSelector((state) => state.auth.user.wishlist);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const isAlreadyInArr = (arr = [], id, variant) => {\r\n    return arr.some((item) => item.id === id && item.variant === variant);\r\n  };\r\n\r\n  const wishlistHandler = (product) => {\r\n    if (!isAlreadyInArr(wishlist, product.id, product.variant)) {\r\n      dispatch(addToWishlist(product));\r\n    } else {\r\n      dispatch(\r\n        addToast({\r\n          message: \"Product already exists in wishlist\",\r\n          color: \"danger\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"cart\">\r\n      <div className=\"cart_list\">\r\n        {data &&\r\n          data?.map((item, index) => (\r\n            <CartItem\r\n              product={item}\r\n              key={item[\"id\"] + item[\"variant\"]}\r\n              dispatch={dispatch}\r\n              handler={wishlistHandler}\r\n              index={index}\r\n              count={counts[index]}\r\n              updateCount={updateCounts}\r\n            />\r\n          ))}\r\n      </div>\r\n      <Checkout data={data} counts={counts} />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CartContent;\r\n","const defaultValues = {\r\n  locale: \"en\",\r\n  currency: \"INR\",\r\n};\r\n\r\nconst currencyFormatter = (amount = 0) => {\r\n  return new Intl.NumberFormat(defaultValues.locale, {\r\n    style: \"currency\",\r\n    currency: defaultValues.currency,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n};\r\n\r\nconst updateDefaultValues = ({\r\n  locale = defaultValues.locale,\r\n  curreny = defaultValues.currency,\r\n}) => {\r\n  defaultValues.locale = locale;\r\n  defaultValues.currency = curreny;\r\n};\r\n\r\nconst formatters = { currencyFormatter };\r\nexport default formatters;\r\nexport { currencyFormatter, updateDefaultValues };\r\n"],"names":["CartItem","product","dispatch","handler","count","index","updateCount","id","title","thumbnail","process","sizes","price","retail_price","size","allowed","stock","variant","uci","removeItem","removeFromCart","className","src","alt","to","currencyFormatter","onClick","role","addToast","message","color","memo","address","useSelector","state","auth","user","toRender","length","EmptyAddress","SelectAddress","addresses","Address","full_name","phone","isPrimary","line1","line2","pin","isHome","useState","isChecked","setChecked","type","name","defaultChecked","value","onChange","e","target","checked","updateChecked","tabIndex","map","Pay","totalAmount","deleiveryAmount","data","counts","useDispatch","navigate","useNavigate","handlePayment","amount_in_paisa","email","contact","options","key","amount","response","values","razorpay_signature","razorpay_order_id","transactionid","razorpay_payment_id","transactionamount","axios","transaction","error","onSuccessfulCheckout","prefill","theme","order","order_id","paymentObject","window","Razorpay","open","on","useEffect","script","document","createElement","async","crossOrigin","loadScript","body","appendChild","onerror","console","warn","removeChild","elements","getElementsByClassName","checkoutHandler","isSelected","getElementsByName","getIndex","totalItems","freeAbove","Number","parseInt","isFreeDelivery","DeliveryMessage","reduce","prev","current","setCounts","updateCounts","child_count","arr","wishlist","wishlistHandler","some","item","isAlreadyInArr","addToWishlist","defaultValues","locale","currency","Intl","NumberFormat","style","maximumFractionDigits","format"],"sourceRoot":""}